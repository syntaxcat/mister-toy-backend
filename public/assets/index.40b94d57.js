var L=Object.defineProperty;var x=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var D=(e,t,n)=>t in e?L(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v=(e,t)=>{for(var n in t||(t={}))U.call(t,n)&&D(e,n,t[n]);if(x)for(var n of x(t))R.call(t,n)&&D(e,n,t[n]);return e};import{c as u,a as s,b as c,w as B,u as E,R as A,d as O,F as C,o as y,e as _,f as k,t as h,g as T,r as f,h as q,i as d,v as g,j as F,k as N,l as I,m as w,C as M,n as P,D as j,p as H,q as K,s as W,x as z,y as G}from"./vendor.a3cfab82.js";const J=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}};J();const Q=_("Toys"),X=_("Dashboard"),Y={setup(e){return(t,n)=>(y(),u(C,null,[s("header",null,[s("nav",null,[c(E(A),{to:"/toyApp"},{default:B(()=>[Q]),_:1}),c(E(A),{to:"/dashboard"},{default:B(()=>[X]),_:1})])]),c(E(O))],64))}},b="/api/toy",p={query:Z,remove:tt,save:et,getById:ot,getEmptyToy:nt};function Z(){return k.get(b).then(e=>e.data)}function tt(e){return k.delete(b+e)}function et(e){return e._id?k.put(b+e._id,e):k.post(b,e)}function ot(e){return k.get(b+e).then(t=>t.data)}function nt(){return{_id:"",name:"",price:"",type:"",createdAt:"",inStock:!0,labels:["Doll","Battery Powered","Baby"]}}var m=(e,t)=>{const n=e.__vccOpts||e;for(const[l,o]of t)n[l]=o;return n};const rt={props:{toy:{type:Object,required:!0}},methods:{},components:{}},st={class:"toy-preview"};function it(e,t,n,l,o,r){return y(),u("section",st,[s("h3",null,h(n.toy.name),1),s("h3",null,h(n.toy.price),1),s("h3",null,h(n.toy.inStock),1)])}var lt=m(rt,[["render",it]]);const at={data(){return{toy:null}},created(){this.loadToy()},computed:{toyId(){return this.$route.params.toyId}},methods:{loadToy(){p.getById(this.toyId).then(e=>{this.toy=e})}},watch:{toyId:{handler(){this.loadToy()},immediate:!0}}},yt={key:0,class:"toy-details"},dt=s("h1",null,"Details",-1);function ut(e,t,n,l,o,r){return o.toy?(y(),u("section",yt,[dt,_(" "+h(o.toy.name)+" "+h(o.toy.price)+" "+h(o.toy.type)+" "+h(o.toy.inStock),1)])):T("",!0)}var V=m(at,[["render",ut]]);const ct={props:{toys:{type:Array,required:!0}},methods:{removeToy(e){this.$emit("removeToy",e)}},components:{toyPreview:lt,toyDetails:V}},pt={key:0,class:"toy-list"},mt=_("Edit"),ht=_("Details"),_t=["onClick"];function ft(e,t,n,l,o,r){const i=f("toyPreview"),S=f("router-link");return n.toys?(y(),u("section",pt,[s("ul",null,[(y(!0),u(C,null,q(n.toys,a=>(y(),u("li",{key:a._id},[c(i,{toy:a},null,8,["toy"]),c(S,{to:"/edit/"+a._id},{default:B(()=>[mt]),_:2},1032,["to"]),c(S,{to:"/details/"+a._id},{default:B(()=>[ht]),_:2},1032,["to"]),s("button",{onClick:ne=>r.removeToy(a._id)},"Delete",8,_t)]))),128))])])):T("",!0)}var Tt=m(ct,[["render",ft]]);const vt={data(){return{filterBy:{inStock:null,name:""}}},methods:{filter(){this.$emit("filterBy",v({},this.filterBy))}}},kt={class:"toy-filter"},gt=s("h1",null,"Filter",-1),bt=_("Out of stock "),St=_("In stock ");function Bt(e,t,n,l,o,r){return y(),u("section",kt,[gt,d(s("input",{type:"text",placeholder:"Search by name",onInput:t[0]||(t[0]=(...i)=>r.filter&&r.filter(...i)),"onUpdate:modelValue":t[1]||(t[1]=i=>o.filterBy.name=i)},null,544),[[g,o.filterBy.name]]),s("label",null,[d(s("input",{type:"radio",onChange:t[2]||(t[2]=(...i)=>r.filter&&r.filter(...i)),"onUpdate:modelValue":t[3]||(t[3]=i=>o.filterBy.inStock=i),value:""},null,544),[[F,o.filterBy.inStock]]),bt]),s("label",null,[d(s("input",{type:"radio",onChange:t[4]||(t[4]=(...i)=>r.filter&&r.filter(...i)),"onUpdate:modelValue":t[5]||(t[5]=i=>o.filterBy.inStock=i),value:"true"},null,544),[[F,o.filterBy.inStock]]),St])])}var Et=m(vt,[["render",Bt]]);const $t={data(){return{emptyToy:p.getEmptyToy()}},computed:{toys(){return this.$store.getters.toysForDisplay}},created(){this.$store.dispatch({type:"loadToys"})},methods:{removeToy(e){this.$store.dispatch({type:"removeToy",id:e})},addToy(){this.$store.dispatch({type:"addToy",toy:v({},this.emptyToy)}).then(()=>{this.emptyToy=p.getEmptyToy()})},filter(e){this.$store.dispatch({type:"filter",filterBy:e})}},components:{toyList:Tt,toyFilter:Et}},xt={key:0,class:"toy-app"},Dt=s("h1",null,"Toy App",-1),At=s("hr",null,null,-1),Ft=s("option",{disabled:"",value:""},"Type",-1),Ct=s("option",{value:"Funny"},"Funny",-1),It=s("option",{value:"Adult"},"Adult",-1),wt=s("option",{value:"Educational"},"Educational",-1),Vt=[Ft,Ct,It,wt],Lt=s("label",{for:"inStock"},"inStock",-1),Ut=s("button",{type:"submit"},"Add",-1),Rt=s("hr",null,null,-1);function Ot(e,t,n,l,o,r){const i=f("toyFilter"),S=f("toyList");return r.toys?(y(),u("section",xt,[Dt,c(i,{onFilterBy:r.filter},null,8,["onFilterBy"]),At,s("form",{onSubmit:t[4]||(t[4]=w((...a)=>r.addToy&&r.addToy(...a),["prevent"]))},[d(s("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=a=>o.emptyToy.name=a),placeholder:"Enter name"},null,512),[[g,o.emptyToy.name]]),d(s("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=a=>o.emptyToy.price=a),placeholder:"Enter price"},null,512),[[g,o.emptyToy.price]]),d(s("select",{"onUpdate:modelValue":t[2]||(t[2]=a=>o.emptyToy.type=a)},Vt,512),[[N,o.emptyToy.type]]),Lt,d(s("input",{id:"inStock",type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=a=>o.emptyToy.inStock=a)},null,512),[[I,o.emptyToy.inStock]]),Ut],32),Rt,c(S,{toys:r.toys,onRemoveToy:r.removeToy},null,8,["toys","onRemoveToy"])])):T("",!0)}var qt=m($t,[["render",Ot]]);const Nt={data(){return{toyToEdit:null}},created(){this.loadToy()},computed:{toyId(){return this.$route.params.toyId}},methods:{loadToy(){p.getById(this.toyId).then(e=>{this.toyToEdit=v({},e)})},save(){this.$store.dispatch({type:"save",toy:v({},this.toyToEdit)})}},watch:{toyId:{handler(){this.loadToy()},immediate:!0}}},Mt={key:0,class:"toy-edit"},Pt=s("h1",null,"Edit",-1),jt=s("button",{type:"submit"},"Save",-1);function Ht(e,t,n,l,o,r){return o.toyToEdit?(y(),u("section",Mt,[Pt,s("form",{onSubmit:t[3]||(t[3]=w((...i)=>r.save&&r.save(...i),["prevent"]))},[d(s("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=i=>o.toyToEdit.name=i)},null,512),[[g,o.toyToEdit.name]]),d(s("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=i=>o.toyToEdit.price=i)},null,512),[[g,o.toyToEdit.price]]),d(s("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=i=>o.toyToEdit.isStock=i)},null,512),[[I,o.toyToEdit.isStock]]),jt],32)])):T("",!0)}var Kt=m(Nt,[["render",Ht]]);M.register(...P);const Wt={name:"Home",props:{toys:{type:Array,required:!0}},data(){return{chartData:null}},created(){const e=this.toys.reduce((n,l)=>(l.type in n?n[l.type]++:n[l.type]=1,n),{});console.log(e);const t=Object.keys(e);this.chartData={labels:t,datasets:[{data:t.map(n=>e[n]),backgroundColor:["#77CEFF","#0079AF","#123E6B","#97B0C4","#A5C8ED"]}]}},components:{DoughnutChart:j}};function zt(e,t,n,l,o,r){const i=f("DoughnutChart");return o.chartData!==null?(y(),H(i,{key:0,chartData:o.chartData},null,8,["chartData"])):T("",!0)}var Gt=m(Wt,[["render",zt]]);const Jt={created(){this.$store.dispatch({type:"loadToys"})},computed:{toys(){return this.$store.getters.getAllToys}},methods:{},watch:{},components:{chart:Gt}},Qt={key:0,class:"dashboard"},Xt=s("h1",null,"Dashboard",-1);function Yt(e,t,n,l,o,r){const i=f("chart");return r.toys.length>0?(y(),u("section",Qt,[Xt,c(i,{toys:r.toys},null,8,["toys"])])):T("",!0)}var Zt=m(Jt,[["render",Yt]]);const te=K({history:W(),routes:[{path:"/toyApp",name:"toyApp",component:qt},{path:"/details/:toyId",name:"toyDetails",component:V},{path:"/edit/:toyId",name:"toyEdit",component:Kt},{path:"/dashboard",name:"dashboard",component:Zt}]});var ee={state:{toys:[],filterBy:{inStock:null,name:""}},getters:{toysForDisplay(e){var t=e.toys;if(e.filterBy.inStock!==null){const n=e.filterBy.inStock==="true";t=e.toys.filter(l=>l.inStock===n)}if(e.filterBy.name){const n=new RegExp(e.filterBy.name,"i");t=t.filter(l=>n.test(l.name))}return t},getAllToys(e){return e.toys}},mutations:{setToys(e,{toys:t}){e.toys=t},removeToy(e,{id:t}){const n=e.toys.findIndex(l=>l._id===t);e.toys.splice(n,1)},addToy(e,{savedToy:t}){e.toys.unshift(t)},setFilter(e,{filterBy:t}){e.filterBy=t}},actions:{removeToy({commit:e},{id:t}){return p.remove(t).then(()=>{e({type:"removeToy",id:t})})},loadToys({commit:e}){return p.query().then(t=>{e({type:"setToys",toys:t})})},save({commit:e},{toy:t}){return p.save(t)},addToy({commit:e},{toy:t}){return p.save(t).then(n=>{e({type:"addToy",savedToy:n.data})})},filter({commit:e},{filterBy:t}){e({type:"setFilter",filterBy:t})}}};const oe=z({strict:!0,state:{},getters:{},mutations:{},actions:{},modules:{toyStore:ee}});const $=G(Y);$.use(te);$.use(oe);$.mount("#app");
