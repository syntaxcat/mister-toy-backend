var U=Object.defineProperty;var x=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var I=(e,t,n)=>t in e?U(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,h=(e,t)=>{for(var n in t||(t={}))D.call(t,n)&&I(e,n,t[n]);if(x)for(var n of x(t))R.call(t,n)&&I(e,n,t[n]);return e};import{o as d,c as a,a as r,b as m,u as F,R as C,w as B,d as O,F as $,e as f,f as T,t as p,g as b,r as g,h as N,i as u,v,j as V,k as q,l as w,m as A,n as M,p as P,q as j,s as H}from"./vendor.09dcb0f0.js";const K=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}};K();const W=f("Toys"),Y={setup(e){return(t,n)=>(d(),a($,null,[r("header",null,[r("nav",null,[m(F(C),{to:"/toyApp"},{default:B(()=>[W]),_:1})])]),m(F(O))],64))}},k="//localhost:3030/api/toy/",c={query:z,remove:G,save:J,getById:Q,getEmptyToy:X};function z(){return T.get(k).then(e=>e.data)}function G(e){return T.delete(k+e)}function J(e){return e._id?T.put(k+e._id,e):T.post(k,e)}function Q(e){return T.get(k+e).then(t=>t.data)}function X(){return{_id:"",name:"",price:"",type:"",createdAt:"",inStock:!0,labels:["Doll","Battery Powered","Baby"]}}var _=(e,t)=>{const n=e.__vccOpts||e;for(const[l,o]of t)n[l]=o;return n};const Z={props:{toy:{type:Object,required:!0}},methods:{},components:{}},tt={class:"toy-preview"};function et(e,t,n,l,o,s){return d(),a("section",tt,[r("h3",null,p(n.toy.name),1),r("h3",null,p(n.toy.price),1),r("h3",null,p(n.toy.inStock),1)])}var ot=_(Z,[["render",et]]);const nt={data(){return{toy:null}},created(){this.loadToy()},computed:{toyId(){return this.$route.params.toyId}},methods:{loadToy(){c.getById(this.toyId).then(e=>{this.toy=e})}},watch:{toyId:{handler(){this.loadToy()},immediate:!0}}},rt={key:0,class:"toy-details"},st=r("h1",null,"Details",-1);function it(e,t,n,l,o,s){return o.toy?(d(),a("section",rt,[st,f(" "+p(o.toy.name)+" "+p(o.toy.price)+" "+p(o.toy.type)+" "+p(o.toy.inStock),1)])):b("",!0)}var L=_(nt,[["render",it]]);const lt={props:{toys:{type:Array,required:!0}},methods:{removeToy(e){this.$emit("removeToy",e)}},components:{toyPreview:ot,toyDetails:L}},yt={key:0,class:"toy-list"},ut=f("Edit"),dt=f("Details"),at=["onClick"];function ct(e,t,n,l,o,s){const i=g("toyPreview"),S=g("router-link");return n.toys?(d(),a("section",yt,[r("ul",null,[(d(!0),a($,null,N(n.toys,y=>(d(),a("li",{key:y._id},[m(i,{toy:y},null,8,["toy"]),m(S,{to:"/edit/"+y._id},{default:B(()=>[ut]),_:2},1032,["to"]),m(S,{to:"/details/"+y._id},{default:B(()=>[dt]),_:2},1032,["to"]),r("button",{onClick:Ht=>s.removeToy(y._id)},"Delete",8,at)]))),128))])])):b("",!0)}var pt=_(lt,[["render",ct]]);const mt={data(){return{filterBy:{inStock:null,name:""}}},methods:{filter(){this.$emit("filterBy",h({},this.filterBy))}}},ft={class:"toy-filter"},_t=r("h1",null,"Filter",-1),ht=f("Out of stock "),Tt=f("In stock ");function vt(e,t,n,l,o,s){return d(),a("section",ft,[_t,u(r("input",{type:"text",placeholder:"Search by name",onInput:t[0]||(t[0]=(...i)=>s.filter&&s.filter(...i)),"onUpdate:modelValue":t[1]||(t[1]=i=>o.filterBy.name=i)},null,544),[[v,o.filterBy.name]]),r("label",null,[u(r("input",{type:"radio",onChange:t[2]||(t[2]=(...i)=>s.filter&&s.filter(...i)),"onUpdate:modelValue":t[3]||(t[3]=i=>o.filterBy.inStock=i),value:""},null,544),[[V,o.filterBy.inStock]]),ht]),r("label",null,[u(r("input",{type:"radio",onChange:t[4]||(t[4]=(...i)=>s.filter&&s.filter(...i)),"onUpdate:modelValue":t[5]||(t[5]=i=>o.filterBy.inStock=i),value:"true"},null,544),[[V,o.filterBy.inStock]]),Tt])])}var kt=_(mt,[["render",vt]]);const St={data(){return{emptyToy:c.getEmptyToy()}},computed:{toys(){return this.$store.getters.toysForDisplay}},created(){this.$store.dispatch({type:"loadToys"}).then(()=>{})},methods:{removeToy(e){this.$store.dispatch({type:"removeToy",id:e})},addToy(){this.$store.dispatch({type:"addToy",toy:h({},this.emptyToy)}).then(()=>{this.emptyToy=c.getEmptyToy()})},filter(e){this.$store.dispatch({type:"filter",filterBy:e})}},components:{toyList:pt,toyFilter:kt}},gt={key:0,class:"toy-app"},bt=r("h1",null,"Toy App",-1),Bt=r("hr",null,null,-1),Et=r("option",{disabled:"",value:""},"Type",-1),xt=r("option",{value:"Funny"},"Funny",-1),It=r("option",{value:"Adult"},"Adult",-1),Ft=r("option",{value:"Educational"},"Educational",-1),Vt=[Et,xt,It,Ft],$t=r("label",{for:"inStock"},"inStock",-1),wt=r("button",{type:"submit"},"Add",-1),At=r("hr",null,null,-1);function Lt(e,t,n,l,o,s){const i=g("toyFilter"),S=g("toyList");return s.toys?(d(),a("section",gt,[bt,m(i,{onFilterBy:s.filter},null,8,["onFilterBy"]),Bt,r("form",{onSubmit:t[4]||(t[4]=A((...y)=>s.addToy&&s.addToy(...y),["prevent"]))},[u(r("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=y=>o.emptyToy.name=y),placeholder:"Enter name"},null,512),[[v,o.emptyToy.name]]),u(r("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=y=>o.emptyToy.price=y),placeholder:"Enter price"},null,512),[[v,o.emptyToy.price]]),u(r("select",{"onUpdate:modelValue":t[2]||(t[2]=y=>o.emptyToy.type=y)},Vt,512),[[q,o.emptyToy.type]]),$t,u(r("input",{id:"inStock",type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=y=>o.emptyToy.inStock=y)},null,512),[[w,o.emptyToy.inStock]]),wt],32),At,m(S,{toys:s.toys,onRemoveToy:s.removeToy},null,8,["toys","onRemoveToy"])])):b("",!0)}var Ut=_(St,[["render",Lt]]);const Dt={data(){return{toyToEdit:null}},created(){this.loadToy()},computed:{toyId(){return this.$route.params.toyId}},methods:{loadToy(){c.getById(this.toyId).then(e=>{this.toyToEdit=h({},e)})},save(){this.$store.dispatch({type:"save",toy:h({},this.toyToEdit)})}},watch:{toyId:{handler(){this.loadToy()},immediate:!0}}},Rt={key:0,class:"toy-edit"},Ct=r("h1",null,"Edit",-1),Ot=r("button",{type:"submit"},"Save",-1);function Nt(e,t,n,l,o,s){return o.toyToEdit?(d(),a("section",Rt,[Ct,r("form",{onSubmit:t[3]||(t[3]=A((...i)=>s.save&&s.save(...i),["prevent"]))},[u(r("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=i=>o.toyToEdit.name=i)},null,512),[[v,o.toyToEdit.name]]),u(r("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=i=>o.toyToEdit.price=i)},null,512),[[v,o.toyToEdit.price]]),u(r("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=i=>o.toyToEdit.isStock=i)},null,512),[[w,o.toyToEdit.isStock]]),Ot],32)])):b("",!0)}var qt=_(Dt,[["render",Nt]]);const Mt=M({history:P(),routes:[{path:"/toyApp",name:"toyApp",component:Ut},{path:"/details/:toyId",name:"toyDetails",component:L},{path:"/edit/:toyId",name:"toyEdit",component:qt}]});var Pt={state:{toys:[],filterBy:{inStock:null,name:""}},getters:{toysForDisplay(e){var t=e.toys;if(e.filterBy.inStock!==null){const n=e.filterBy.inStock==="true";t=e.toys.filter(l=>l.inStock===n)}if(e.filterBy.name){const n=new RegExp(e.filterBy.name,"i");t=t.filter(l=>n.test(l.name))}return t}},mutations:{setToys(e,{toys:t}){e.toys=t},removeToy(e,{id:t}){const n=e.toys.findIndex(l=>l._id===t);e.toys.splice(n,1)},addToy(e,{savedToy:t}){e.toys.unshift(t)},setFilter(e,{filterBy:t}){e.filterBy=t}},actions:{removeToy({commit:e},{id:t}){return c.remove(t).then(()=>{e({type:"removeToy",id:t})})},loadToys({commit:e}){return c.query().then(t=>{e({type:"setToys",toys:t})})},save({commit:e},{toy:t}){return c.save(t)},addToy({commit:e},{toy:t}){return c.save(t).then(n=>{e({type:"addToy",savedToy:n.data})})},filter({commit:e},{filterBy:t}){e({type:"setFilter",filterBy:t})}}};const jt=j({strict:!0,state:{},getters:{},mutations:{},actions:{},modules:{toyStore:Pt}});const E=H(Y);E.use(Mt);E.use(jt);E.mount("#app");
